<!doctype html>
<html lang="en">
 	<head>
    	<title>壽司郎計數機</title>
    	<meta charset="utf-8">
    	<meta name="viewport" content="width=device-width, initial-scale=1">
    	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    	<style data="test" type="text/css"></style>
    	<link rel="stylesheet" href="style.css">

    	<script>
			document.addEventListener('DOMContentLoaded', function() 
			{
				var counter12 = document.getElementById("number12");
				var counter17 = document.getElementById("number17");
				var counter22 = document.getElementById("number22");
				var counter27 = document.getElementById("number27");
				var slider12 = document.getElementById("price12");
				var slider17 = document.getElementById("price17");
				var slider22 = document.getElementById("price22");
				var slider27 = document.getElementById("price27");
				var smallChargeDisplay = document.getElementById("small-charge");
				var serviceChargeDisplay = document.getElementById("service-charge");
				var totalChargeDisplay = document.getElementById("total-charge");

				var smallCharge = 0;
				var serviceCharge = 0;
				var totalCharge = 0;
				var tempInt = 0;
				var tempFloat = 0.0;

				counter12.innerHTML = slider12.value;
				counter17.innerHTML = slider17.value;
				counter22.innerHTML = slider22.value;
				counter27.innerHTML = slider27.value;

				slider12.oninput = function(){
					counter12.innerHTML = this.value;
					calculate();
				}
				slider17.oninput = function(){
					counter17.innerHTML = this.value;
					calculate();
				}
				slider22.oninput = function(){
					counter22.innerHTML = this.value;
					calculate();
				}
				slider27.oninput = function(){
					counter27.innerHTML = this.value;
					calculate();
				}

				function calculate()
				{
					smallCharge = 0
					smallCharge += parseInt(slider12.value) * 12;
					smallCharge += parseInt(slider17.value) * 17;
					smallCharge += parseInt(slider22.value) * 22;
					smallCharge += parseInt(slider27.value) * 27;

					smallChargeDisplay.innerHTML = "$" + smallCharge;
					tempFloat = smallCharge / 10;
					serviceCharge = Math.floor(tempFloat);
					serviceChargeDisplay.innerHTML = "$" + serviceCharge;
					totalCharge = smallCharge + serviceCharge;
					totalChargeDisplay.innerHTML = "$" + totalCharge; 
				}
				
			});
    	</script>
	</head>
	<body>

	<div class="text px-4 py-4 text-center">
  		<h1 class="display-5 fw-bold" style="color: #A80A1C;">壽司郎計數機</h1>
	  		<div class="col-lg-6 mx-auto">
	    	<p class="fs-5">壽司郎價錢計算 by @jasonpanghh</p>
			</div>
	</div>

	<div style="margin: auto;width: 85%;">
	<div class="d-grid gap-3">

		<div class="row">
			<h2><span class="badge text-bg-light">$12碟</span>
			<span id="number12" class="badge text-bg-dark">0</span></h2>
		</div>
		<div>
		<input id="price12" type="range" class="slider" min="0" max="20" value="0">
		</div>
		<br>

		<div class="row">
			<h2><span class="badge text-bg-light">$17碟</span>
			<span id="number17" class="badge text-bg-dark">0</span></h2>
		</div>
		<div>
		<input id="price17" type="range" class="slider" min="0" max="20" value="0">
		</div>
		<br>

		<div class="row">
			<h2><span class="badge text-bg-light">$22碟</span>
			<span id="number22" class="badge text-bg-dark">0</span></h2>
		</div>
		<div>
		<input id="price22" type="range" class="slider" min="0" max="20" value="0">
		</div>
		<br>

		<div class="row">
			<h2><span class="badge text-bg-light">$27碟</span>
			<span id="number27" class="badge text-bg-dark">0</span></h2>
		</div>
		<div>
		<input id="price27" type="range" class="slider" min="0" max="20" value="0">
		</div>
	</div>

	<div class="my-5" style="margin: auto;width: 60%;">
		<ul class="list-group list-group-flush">
		  <li class="list-group-item"><div class="d-flex w-100 justify-content-between"><span>小計</span><span id="small-charge">$100</span></div></li>
		  <li class="list-group-item"><div class="d-flex w-100 justify-content-between"><span>服務費</span><span id="service-charge">$10</span></div></li>
		  <li class="list-group-item list-group-item-danger"><div class="d-flex w-100 justify-content-between"><span>合計</span><span id="total-charge">$110</span></div></li>
		</ul>
	</div>


	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

  </body>
</html>